<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–†–∏–∫ –∏ –ú–æ—Ä—Ç–∏ ¬∑ –ì–∏–ª—å–¥–∏–∏</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù -->
        <div id="screen-main" class="screen active">
            <div id="stats">
                <span id="energy-display">‚ö° 100/100</span>
                <span id="money">0</span> ü™ô
            </div>
            <div id="character-area">
                <div id="character-container">
                    <img id="base-character" src="img/human_male.png" alt="–ü–µ—Ä—Å–æ–Ω–∞–∂">
                    <div id="equipment-layer"></div>
                    <div id="pet-layer"></div>
                </div>
            </div>
        </div>

        <!-- –ú–ê–°–¢–ï–†–°–ö–ê–Ø -->
        <div id="screen-workshop" class="screen">
            <div class="tabs">
                <button class="tab-button active" data-tab="character">üë§ –ü–µ—Ä—Å–æ–Ω–∞–∂</button>
                <button class="tab-button" data-tab="pets">üêæ –ü–∏—Ç–æ–º—Ü—ã</button>
                <button class="tab-button" data-tab="talents">‚ú® –¢–∞–ª–∞–Ω—Ç—ã</button>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ü–ï–†–°–û–ù–ê–ñ (—ç–∫–∏–ø–∏—Ä–æ–≤–∫–∞) -->
            <div id="tab-character" class="tab-content active">
                <div class="customization-preview">
                    <div id="char-preview-container" class="character-preview">
                        <img id="preview-base" src="img/human_male.png" alt="–ü–µ—Ä—Å–æ–Ω–∞–∂">
                        <div id="preview-equipment"></div>
                        <div id="preview-pet"></div>
                    </div>
                </div>
                <div class="slot-selector">
                    <button class="slot-btn active" data-slot="hat">üé© –ì–æ–ª–æ–≤–∞</button>
                    <button class="slot-btn" data-slot="shirt">üëï –¢—É–ª–æ–≤–∏—â–µ</button>
                    <button class="slot-btn" data-slot="legs">üëñ –ù–æ–≥–∏</button>
                </div>
                <div id="slot-items" class="items-grid"></div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ü–ò–¢–û–ú–¶–´ -->
            <div id="tab-pets" class="tab-content">
                <h3>üêæ –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã</h3>
                <div id="pets-grid" class="items-grid"></div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –¢–ê–õ–ê–ù–¢–´ -->
            <div id="tab-talents" class="tab-content">
                <div class="talent-tabs">
                    <button class="tab-btn active" data-tab="buyCharges">üí∞ –ö—É–ø–∏—Ç—å –∑–∞—Ä—è–¥—ã</button>
                    <button class="tab-btn" data-tab="upgradeTalents">‚¨ÜÔ∏è –£–ª—É—á—à–∏—Ç—å</button>
                    <button class="tab-btn" data-tab="craftTalents">‚öíÔ∏è –ö—Ä–∞—Ñ—Ç</button>
                </div>

                <!-- –ü–æ–∫—É–ø–∫–∞ –∑–∞—Ä—è–¥–æ–≤ -->
                <div id="buyCharges" class="shop-tab active">
                    <div class="attack-charges-container"></div>
                </div>

                <!-- –£–ª—É—á—à–µ–Ω–∏–µ —Ç–∞–ª–∞–Ω—Ç–æ–≤ -->
                <div id="upgradeTalents" class="shop-tab">
                    <div class="talents-upgrade-container">
                        <div class="talent" data-talent="basic">
                            <span>üó°Ô∏è –ë–∞–∑–æ–≤—ã–π —É–¥–∞—Ä</span>
                            <span id="basicLevel">1</span> —É—Ä.
                            <span id="basicDmg">10</span> —É—Ä–æ–Ω–∞
                            <button class="upgrade-btn" data-talent="basic">75</button>
                        </div>
                        <div class="talent" data-talent="critical">
                            <span>üí• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä</span>
                            <span id="critLevel">1</span> —É—Ä.
                            <span id="critChanceUpgrade">20</span>% —à–∞–Ω—Å
                            <button class="upgrade-btn" data-talent="critical">150</button>
                        </div>
                        <div class="talent" data-talent="poison">
                            <span>‚ò†Ô∏è –Ø–¥–æ–≤–∏—Ç—ã–π —É–¥–∞—Ä</span>
                            <span id="poisonLevel">1</span> —É—Ä.
                            <span id="poisonDmgUpgrade">3</span> —É—Ä–æ–Ω–∞/—Å–µ–∫
                            <button class="upgrade-btn" data-talent="poison">200</button>
                        </div>
                    </div>
                </div>

                <!-- –ö—Ä–∞—Ñ—Ç -->
                <div id="craftTalents" class="shop-tab">
                    <div class="crafting-area">
                        <div class="craft-slots">
                            <div class="craft-slot" data-index="0"></div>
                            <div class="craft-slot" data-index="1"></div>
                        </div>
                        <div class="craft-result">
                            <button id="sonicButton" style="display:none;">üîä –°–æ–∑–¥–∞—Ç—å –∑–≤—É–∫–æ–≤–æ–π</button>
                            <button id="fireButton" style="display:none;">üî• –°–æ–∑–¥–∞—Ç—å –æ–≥–Ω–µ–Ω–Ω—ã–π</button>
                            <button id="iceButton" style="display:none;">‚ùÑÔ∏è –°–æ–∑–¥–∞—Ç—å –ª–µ–¥—è–Ω–æ–π</button>
                        </div>
                        <div class="talent-pool">
                            <h4>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã</h4>
                            <div class="talent-cards">
                                <div class="talent-card" data-talent="basic">üó°Ô∏è –ë–∞–∑–æ–≤—ã–π</div>
                                <div class="talent-card" data-talent="critical">üí• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π</div>
                                <div class="talent-card" data-talent="poison">‚ò†Ô∏è –Ø–¥–æ–≤–∏—Ç—ã–π</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ì–ò–õ–¨–î–ò–Ø -->
        <div id="screen-guild" class="screen">
            <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –≥–∏–ª—å–¥–∏–∏ -->
            <div id="create-guild-modal" class="modal hidden">
                <div class="modal-content">
                    <h3>‚ú® –°–æ–∑–¥–∞–Ω–∏–µ –≥–∏–ª—å–¥–∏–∏</h3>
                    <input type="text" id="guild-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –≥–∏–ª—å–¥–∏–∏" maxlength="30">
                    <textarea id="guild-desc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –≥–∏–ª—å–¥–∏–∏" rows="3"></textarea>
                    <div class="modal-buttons">
                        <button id="confirm-create-guild" class="glow-button">–°–æ–∑–¥–∞—Ç—å</button>
                        <button id="cancel-create-guild">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </div>
            </div>
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≥–∏–ª—å–¥–∏–∏ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω —Å—é–¥–∞ -->
            <div id="guild-view"></div>
        </div>

        <!-- –î–†–£–ó–¨–Ø -->
        <div id="screen-friends" class="screen">
            <div id="friends-view"></div>
        </div>

        <!-- –ù–ò–ñ–ù–Ø–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
        <nav id="bottom-nav">
            <button data-screen="main" class="nav-btn active">üë§</button>
            <button data-screen="workshop" class="nav-btn">üîß</button>
            <button data-screen="guild" class="nav-btn">üè∞</button>
            <button data-screen="friends" class="nav-btn">üë•</button>
        </nav>
    </div>

    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage-compat.js"></script>
    <!-- –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç -->
    <script src="script.js"></script>
</body>
</html>
