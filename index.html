<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–∏–∫ –∏ –ú–æ—Ä—Ç–∏ ¬∑ –ì–∏–ª—å–¥–∏–∏</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
</head>
<body>

    <!-- –ù–ê–ß–ê–õ–û: –ü—Ä–µ–ª–æ–∞–¥–µ—Ä -->
    <div id="preloader" class="preloader">
        <div class="preloader-content">
            <span class="preloader-text">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
        </div>
    </div>
    <!-- –ö–û–ù–ï–¶: –ü—Ä–µ–ª–æ–∞–¥–µ—Ä -->

    <div id="app" style="display: none;">
        <div id="stats">
            <div id="energy-display">‚ö° 100/1000</div>
            <div id="money">ü™ô</div>
        </div>
        <div class="screen active" id="screen-main">
            <div id="character-area">
                <div id="character-container">
                    <img id="base-character" src="img/base_char.png" alt="Base Character">
                    <div id="equipment-layer"></div>
                    <div id="pet-layer"></div>
                </div>
            </div>
        </div>

        <div class="screen" id="screen-workshop">
            <div class="tabs">
                <button class="tab-button active" data-tab="character">üë§ –ü–µ—Ä—Å–æ–Ω–∞–∂</button>
                <button class="tab-button" data-tab="pets">üêæ –ü–∏—Ç–æ–º—Ü—ã</button>
                <button class="tab-button" data-tab="talents">‚ú® –¢–∞–ª–∞–Ω—Ç—ã</button>
            </div>

            <div class="tab-content active" id="tab-character">
                <div class="customization-preview">
                    <div class="character-preview">
                        <div id="preview-equipment"></div>
                    </div>
                </div>
                <div class="slot-selector">
                    <button class="slot-btn active" data-slot="hat">üé© –ì–æ–ª–æ–≤–∞</button>
                    <button class="slot-btn" data-slot="shirt">üëï –¢—É–ª–æ–≤–∏—â–µ</button>
                    <button class="slot-btn" data-slot="legs">üëñ –ù–æ–≥–∏</button>
                </div>
                <div class="items-grid" id="slot-items">
                    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <div class="tab-content" id="tab-pets">
                <h3>üêæ –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã</h3>
                <div id="pets-grid" class="items-grid">
                    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>

            <div class="tab-content" id="tab-talents">
                <div class="talent-tabs">
                    <button class="tab-btn active" data-tab="buy-charges">üõí –ó–∞—Ä—è–¥—ã</button>
                    <button class="tab-btn" data-tab="upgrade">‚¨ÜÔ∏è –£–ª—É—á—à–µ–Ω–∏–µ</button>
                    <button class="tab-btn" data-tab="craft">‚öíÔ∏è –ö—Ä–∞—Ñ—Ç</button>
                </div>

                <div class="shop-tab active" id="buy-charges">
                    <h3>üõí –ü–æ–∫—É–ø–∫–∞ –∑–∞—Ä—è–¥–æ–≤</h3>
                    <div class="attack-charges-container">
                        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>

                <div class="shop-tab" id="upgrade">
                    <h3>‚¨ÜÔ∏è –£–ª—É—á—à–µ–Ω–∏–µ —Ç–∞–ª–∞–Ω—Ç–æ–≤</h3>
                    <div class="talents-upgrade-container">
                        <div class="talent">
                            <div>
                                <strong>üó°Ô∏è –ë–∞–∑–æ–≤—ã–π</strong> —É—Ä. <span id="basicLevel">1</span> (—É—Ä–æ–Ω <span id="basicDmg">10</span>)
                            </div>
                            <button class="upgrade-btn" data-talent="basic">75</button>
                        </div>
                        <div class="talent">
                            <div>
                                <strong>üí• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π</strong> —É—Ä. <span id="critLevel">1</span> (—à–∞–Ω—Å <span id="critChanceUpgrade">20</span>%)
                            </div>
                            <button class="upgrade-btn" data-talent="critical">150</button>
                        </div>
                        <div class="talent">
                            <div>
                                <strong>‚ò†Ô∏è –Ø–¥–æ–≤–∏—Ç—ã–π</strong> —É—Ä. <span id="poisonLevel">1</span> (—É—Ä–æ–Ω <span id="poisonDmgUpgrade">3</span>)
                            </div>
                            <button class="upgrade-btn" data-talent="poison">200</button>
                        </div>
                    </div>
                </div>

                <div class="shop-tab" id="craft">
                    <h3>‚öíÔ∏è –ö—Ä–∞—Ñ—Ç —Ç–∞–ª–∞–Ω—Ç–æ–≤</h3>
                    <div class="crafting-area">
                        <div class="craft-slots">
                            <div class="craft-slot" data-talent=""></div>
                            <div class="craft-slot" data-talent=""></div>
                        </div>
                        <div class="craft-result">
                            <button id="sonicButton" style="display:none;">üîä –ó–≤—É–∫–æ–≤–æ–π</button>
                            <button id="fireButton" style="display:none;">üî• –û–≥–Ω–µ–Ω–Ω—ã–π</button>
                            <button id="iceButton" style="display:none;">‚ùÑÔ∏è –õ–µ–¥—è–Ω–æ–π</button>
                        </div>
                        <div class="talent-pool">
                            <h4>üì¶ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã –¥–ª—è –∫—Ä–∞—Ñ—Ç–∞</h4>
                            <div class="talent-cards">
                                <div class="talent-card" data-talent="basic">üó°Ô∏è –ë–∞–∑–æ–≤—ã–π</div>
                                <div class="talent-card" data-talent="critical">üí• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π</div>
                                <div class="talent-card" data-talent="poison">‚ò†Ô∏è –Ø–¥–æ–≤–∏—Ç—ã–π</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="screen" id="screen-guild">
            <div id="guild-view">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>

        <div class="screen" id="screen-friends">
            <div id="friends-view">
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>

        <div id="bottom-nav">
            <button class="nav-btn active" data-screen="main">üë§</button>
            <button class="nav-btn" data-screen="workshop">Ìé´</button>
            <button class="nav-btn" data-screen="guild">üè∞</button>
            <button class="nav-btn" data-screen="friends">üë•</button>
        </div>
    </div>

    <div id="create-guild-modal" class="modal hidden">
        <div class="modal-content">
            <h3>‚ú® –°–æ–∑–¥–∞–Ω–∏–µ –≥–∏–ª—å–¥–∏–∏</h3>
            <input type="text" id="guild-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –≥–∏–ª—å–¥–∏–∏">
            <textarea id="guild-desc" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
            <div class="modal-buttons">
                <button id="confirm-create-guild">‚úÖ –°–æ–∑–¥–∞—Ç—å</button>
                <button id="cancel-create-guild">‚ùå –û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div id="battle-result-modal" class="modal hidden">
        <div class="modal-content">
            <h3 id="battle-result-title">–†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
            <div id="battle-result-content"></div>
            <button id="close-battle-result">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
